(this["webpackJsonppathfinding-visualiser"]=this["webpackJsonppathfinding-visualiser"]||[]).push([[0],{19:function(e,t,n){e.exports={scoreboard:"Scoreboard_scoreboard__1lENP"}},24:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(17),c=n.n(o),a=(n(24),n(25),n(7)),s=n(32),u=n(33),l=n(34),f=n(35),h=n(36),d=n(37),j=n(11);function b(e){e.sort((function(e,t){return e.distance-t.distance}))}function v(e,t,n){var r,i=function(e,t,n){var r=[],i=e.col,o=e.row;o>0&&r.push(t[o-1][i]);o<t.length-1&&r.push(t[o+1][i]);i>0&&r.push(t[o][i-1]);i<t[0].length-1&&r.push(t[o][i+1]);n&&(o>0&&i>0&&r.push(t[o-1][i-1]),o<t.length-1&&i>0&&r.push(t[o+1][i-1]),o>0&&i<t[0].length-1&&r.push(t[o-1][i+1]),o<t.length-1&&i<t[0].length-1&&r.push(t[o+1][i+1]));return r.filter((function(e){return!e.isVisited}))}(e,t,n),o=Object(j.a)(i);try{for(o.s();!(r=o.n()).done;){var c=r.value;c.distance=e.distance+1,c.previousNode=e}}catch(a){o.e(a)}finally{o.f()}}function g(e){var t,n=[],r=Object(j.a)(e);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,c=Object(j.a)(o);try{for(c.s();!(i=c.n()).done;){var a=i.value;n.push(a)}}catch(s){c.e(s)}finally{c.f()}}}catch(s){r.e(s)}finally{r.f()}return n}var O=Math.sqrt(2);function p(e,t){var n=e.indexOf(t);e.splice(n,1)}function S(e){return e.reduce((function(e,t){return e.fScore<t.fScore?e:t}))}function x(e,t,n){var r=Math.abs(t.col-e.col),i=Math.abs(t.row-e.row);return n?r+i+(O-2)*Math.min(r,i):r+i}function _(e,t,n){var r=[],i=e.col,o=e.row;return o>0&&r.push(t[o-1][i]),o<t.length-1&&r.push(t[o+1][i]),i>0&&r.push(t[o][i-1]),i<t[0].length-1&&r.push(t[o][i+1]),n&&(o>0&&i>0&&r.push(t[o-1][i-1]),o<t.length-1&&i>0&&r.push(t[o+1][i-1]),o>0&&i<t[0].length-1&&r.push(t[o-1][i+1]),o<t.length-1&&i<t[0].length-1&&r.push(t[o+1][i+1])),r.filter((function(e){return!e.isWall}))}var w=n(12),m=n(18),N=n(8),M=n.n(N),W=n(1),C=Object(r.forwardRef)((function(e,t){var n,r=e.row,i=e.col,o=e.isStart,c=e.isFinish,a=e.isWall,s=e.onMouseDown,u=e.onMouseEnter,l=e.onMouseUp;return Object(W.jsx)("div",{ref:t,id:"node-".concat(r,"-").concat(i),className:Object(m.a)(M.a.node,(n={},Object(w.a)(n,M.a.nodeStart,o),Object(w.a)(n,M.a.nodeFinish,c),Object(w.a)(n,M.a.nodeWall,a),n)),onMouseDown:function(){return s(r,i)},onMouseEnter:function(){return u(r,i)},onMouseUp:function(){return l()}})})),P=n(9),k=n.n(P),V=n(10);function y(e,t,n,r){for(var i=[],o=0;o<n;o++){for(var c=[],a=0;a<r;a++)o!==e.row||a!==e.col?o!==t.row||a!==t.col?c.push(F(o,a)):c.push(F(o,a,!1,!0)):c.push(F(o,a,!0,!1));i.push(c)}return i}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{col:t,row:e,isStart:n,isFinish:r,distance:1/0,isVisited:!1,isWall:!1,previousNode:null,fScore:1/0,gScore:1/0}}function A(e,t,n,r){var i=e.slice(),o=i[t][n],c=Object(V.a)(Object(V.a)({},o),{},{isFinish:r});return i[t][n]=c,i}function E(e,t,n,r){var i=e.slice(),o=i[t][n],c=Object(V.a)(Object(V.a)({},o),{},{isStart:r});return i[t][n]=c,i}function D(e,t,n){var r=e.slice(),i=r[t][n],o=Object(V.a)(Object(V.a)({},i),{},{isWall:!i.isWall});return r[t][n]=o,r}function L(e){return{row:e.row,col:e.col}}function G(e,t,n,r){var i=y(e,t,n,r);return function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[0].length;i++)0!==r&&r!==e.length-1&&0!==i&&i!==e[0].length-1||(e[r][i].isWall=!0);e[t.row][t.col].isWall=!1,e[n.row][n.col].isWall=!1}(i,e,t),R(i,!0,1,n-2,1,r-2),i}function R(e,t,n,r,i,o){if(t){if(r-n<2)return;var c=2*Math.floor(T(i,o)/2);!function(e,t,n,r){console.log({y:r});for(var i=2*Math.floor(T(t,n)/2)+1,o=t;o<=n;o++)e[r][o].isStart||e[r][o].isFinish||(e[r][o].isWall=!0);0!==r&&r!==e.length-1&&(e[r][i].isWall=!1)}(e,n,r,c),R(e,!t,n,r,i,c-1),R(e,!t,n,r,c+1,o)}else{if(o-i<2)return;var a=2*Math.floor(T(n,r)/2);!function(e,t,n,r){console.log({x:r});for(var i=2*Math.floor(T(t,n)/2)+1,o=t;o<=n;o++)e[o][r].isStart||e[o][r].isFinish||(e[o][r].isWall=!0);0!==r&&r!==e[0].length-1&&(e[i][r].isWall=!1)}(e,i,o,a),R(e,!t,n,a-1,i,o),R(e,!t,a+1,r,i,o)}}function T(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var B=n(19),I=n.n(B);function U(e){var t=e.numberVisited,n=e.numberShortestPath;return Object(W.jsxs)("div",{className:I.a.scoreboard,children:[Object(W.jsxs)("div",{children:["Cells visited: ",t]}),Object(W.jsxs)("div",{children:["Cells on shortest path: ",n]})]})}var q={row:10,col:5},J={row:10,col:15};function K(){var e=Object(r.useState)((function(){return y(q,J,21,21)})),t=Object(a.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)((function(){return L(q)})),c=Object(a.a)(o,2),O=c[0],w=c[1],m=Object(r.useState)((function(){return L(J)})),N=Object(a.a)(m,2),P=N[0],V=N[1],R=Object(r.useState)("astar"),T=Object(a.a)(R,2),B=T[0],I=T[1],K=Object(r.useState)([]),z=Object(a.a)(K,2),H=z[0],X=z[1],Z=Object(r.useState)([]),Q=Object(a.a)(Z,2),Y=Q[0],$=Q[1],ee=Object(r.useRef)([]);ee.current=n.map((function(e,t){return e.map((function(e,n){return ee.current.length?ee.current[t][n]:Object(r.createRef)()}))}));var te=Object(r.useCallback)((function(){if(1!==H.length)for(var e=function(e){setTimeout((function(){var t=H[e],n=t.row,r=t.col;ee.current[n][r].current.classList.add(M.a.nodeShortestPath)}),50*e)},t=0;t<H.length;t++)e(t)}),[H]),ne=Object(r.useCallback)((function(){for(var e=function(e){if(e===Y.length-1)return setTimeout((function(){te(H)}),10*e),{v:void 0};setTimeout((function(){var t=Y[e],n=t.row,r=t.col;ee.current[n][r].current.classList.add(M.a.nodeVisited)}),10*e)},t=0;t<Y.length;t++){var n=e(t);if("object"===typeof n)return n.v}}),[te,H,Y]);Object(r.useEffect)((function(){ne(Y,H)}),[ne,Y,H]);var re=Object(r.useState)(!1),ie=Object(a.a)(re,2),oe=ie[0],ce=ie[1],ae=Object(r.useState)(!1),se=Object(a.a)(ae,2),ue=se[0],le=se[1],fe=Object(r.useState)(!1),he=Object(a.a)(fe,2),de=he[0],je=he[1],be=Object(r.useState)(!1),ve=Object(a.a)(be,2),ge=ve[0],Oe=ve[1];function pe(){"astar"===B?$(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=[];for(t.gScore=0,t.fScore=x(t,n),o.push(t);o.length;){var c=S(o);if(!c.isWall){if(c.gScore===1/0)return i;if(c.isVisited=!0,i.push(c),c===n)return i;p(o,c);var a,s=_(c,e,r),u=Object(j.a)(s);try{for(u.s();!(a=u.n()).done;){var l=a.value,f=c.gScore+x(c,l,r);f<l.gScore&&(l.previousNode=c,l.gScore=f,l.fScore=l.gScore+x(l,n,r),o.includes(l)||o.push(l))}}catch(h){u.e(h)}finally{u.f()}}}return i}(n,n[O.row][O.col],n[P.row][P.col],de)):"dijkstra"===B&&$(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];t.distance=0;for(var o=g(e);o.length;){b(o);var c=o.shift();if(!c.isWall){if(c.distance===1/0)return i;if(c.isVisited=!0,i.push(c),c===n)return i;v(c,e,r)}}}(n,n[O.row][O.col],n[P.row][P.col],de)),X(function(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t}(n[P.row][P.col]))}function Se(e,t){return!!O&&(e===O.row&&t===O.col)}function xe(e,t){return!!P&&(e===P.row&&t===P.col)}function _e(){H.forEach((function(e){return ee.current[e.row][e.col].current.classList.remove(M.a.nodeShortestPath)})),X([])}function we(){Y.forEach((function(e){return ee.current[e.row][e.col].current.classList.remove(M.a.nodeVisited)})),$([])}function me(){_e(),we(),i(function(e,t,n){return e.map((function(e,r){return e.map((function(e,i){if(e.isWall){var o=F(r,i);return o.isWall=!0,o}var c=r===t.row&&i===t.col,a=r===n.row&&i===n.col;return F(r,i,c,a)}))}))}(n,O,P)),ce(!1)}function Ne(){_e(),we(),i(y(q,J,21,21)),w(L(q)),V(L(J)),ce(!1)}function Me(){return null===O||null===P}return Object(r.useEffect)((function(){"dijkstra"===B&&(je(!1),Oe(!0)),"astar"===B&&Oe(!1)}),[B]),Object(W.jsxs)(s.a,{className:k.a.container,children:[Object(W.jsx)(u.a,{children:Object(W.jsxs)(l.a,{children:[Object(W.jsx)(f.a,{for:"algorithmSelect",children:Object(W.jsx)("h2",{className:k.a.subheading,children:"Select Algorithm"})}),Object(W.jsxs)(h.a,{type:"select",name:"select",id:"algorithmSelect",value:B,onChange:function(e){return I(e.target.value)},children:[Object(W.jsx)("option",{value:"astar",children:"A*"}),Object(W.jsx)("option",{value:"dijkstra",children:"Dijkstra"})]})]})}),Object(W.jsx)(u.a,{children:Object(W.jsx)(l.a,{children:Object(W.jsxs)(f.a,{check:!0,children:[Object(W.jsx)(h.a,{disabled:ge,type:"checkbox","aria-label":"Checkbox for allowing diagonals in paths",value:de,onChange:function(e){return je(e.target.checked)}})," ","Allow Diagonals"]})})}),Object(W.jsxs)(u.a,{children:[Object(W.jsx)("h2",{className:k.a.subheading,children:"Controls"}),Object(W.jsxs)("div",{className:k.a.buttonGroup,children:[Object(W.jsx)(d.a,{disabled:oe||Me(),color:"primary",onClick:function(){me(),ce(!0),pe()},children:"Visualise"}),Object(W.jsx)(d.a,{disabled:oe||Me(),outline:!0,color:"secondary",onClick:function(){return _e(),we(),void i(G(O,P,21,21))},children:"Create Maze"}),Object(W.jsx)(d.a,{disabled:Me(),outline:!0,color:"danger",onClick:function(){return Ne()},children:"Clear Board"}),Object(W.jsx)(d.a,{disabled:Me(),outline:!0,color:"warning",onClick:function(){return me()},children:"Clear Path"})]})]}),Object(W.jsx)(u.a,{children:Object(W.jsx)(U,{numberVisited:Y.length>0?Y.length:"N/A",numberShortestPath:H.length>0?H.length:"N/A"})}),Object(W.jsx)("div",{className:k.a.grid,children:n.map((function(e,t){return Object(W.jsx)("div",{className:k.a.row,children:e.map((function(e,t){var r=e.row,o=e.col,c=e.isStart,a=e.isFinish,s=e.isWall;return Object(W.jsx)(C,{ref:ee.current[r][o],row:r,col:o,isStart:c,isFinish:a,isWall:s,onMouseDown:function(){return function(e,t){if(!oe){if(Se(e,t))return E(n,e,t,!1),void w(null);if(!O&&!xe(e,t)){if(n[e][t].isWall)return;return E(n,e,t,!0),void w((function(){return{row:e,col:t}}))}if(xe(e,t))return A(n,e,t,!1),void V(null);if(!P&&!Se(e,t)){if(n[e][t].isWall)return;return A(n,e,t,!0),void V((function(){return{row:e,col:t}}))}var r=D(n,e,t);i(r),le(!0)}}(r,o)},onMouseEnter:function(){return function(e,t){if(ue&&!oe){var r=D(n,e,t);i(r)}}(r,o)},onMouseUp:function(){oe||le(!1)}},t)}))},t)}))})]})}var z=function(){return Object(W.jsxs)("div",{className:"root",children:[Object(W.jsx)("div",{className:"title",children:Object(W.jsx)("h1",{children:"Pathfinding Visualiser"})}),Object(W.jsx)("div",{className:"link",children:Object(W.jsx)("a",{href:"https://github.com/jeffreyquan/pathfinding-visualiser",target:"_blank",rel:"noreferrer noopener",children:"Github"})}),Object(W.jsx)(K,{})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))};n(29);c.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(z,{})}),document.getElementById("root")),H()},8:function(e,t,n){e.exports={node:"Node_node__21jjK",nodeStart:"Node_nodeStart__27Ah3",nodeFinish:"Node_nodeFinish__1ymnm",nodeVisited:"Node_nodeVisited__3SCPR",visitedAnimation:"Node_visitedAnimation__1Le_M",nodeWall:"Node_nodeWall__1HVCx",nodeShortestPath:"Node_nodeShortestPath__3aENZ",shortestPath:"Node_shortestPath__2DXkP"}},9:function(e,t,n){e.exports={container:"PathfindingVisualiser_container__3ImtK",grid:"PathfindingVisualiser_grid__1-gAg",row:"PathfindingVisualiser_row__2DrG5",buttonGroup:"PathfindingVisualiser_buttonGroup__3mGMR",subheading:"PathfindingVisualiser_subheading__17n8A"}}},[[30,1,2]]]);
//# sourceMappingURL=main.1607dec4.chunk.js.map