(this["webpackJsonppathfinding-visualiser"]=this["webpackJsonppathfinding-visualiser"]||[]).push([[0],{13:function(e,t,n){e.exports={container:"PathfindingVisualiser_container__3ImtK",grid:"PathfindingVisualiser_grid__1-gAg",row:"PathfindingVisualiser_row__2DrG5",buttonGroup:"PathfindingVisualiser_buttonGroup__3mGMR"}},19:function(e,t,n){e.exports={scoreboard:"Scoreboard_scoreboard__1lENP"}},24:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(17),c=n.n(i),a=(n(24),n(25),n(7)),s=n(32),u=n(33),l=n(34),f=n(35),h=n(36),d=n(37),j=n(10);function b(e){e.sort((function(e,t){return e.distance-t.distance}))}function v(e,t,n){var r,o=function(e,t,n){var r=[],o=e.col,i=e.row;i>0&&r.push(t[i-1][o]);i<t.length-1&&r.push(t[i+1][o]);o>0&&r.push(t[i][o-1]);o<t[0].length-1&&r.push(t[i][o+1]);n&&(i>0&&o>0&&r.push(t[i-1][o-1]),i<t.length-1&&o>0&&r.push(t[i+1][o-1]),i>0&&o<t[0].length-1&&r.push(t[i-1][o+1]),i<t.length-1&&o<t[0].length-1&&r.push(t[i+1][o+1]));return r.filter((function(e){return!e.isVisited}))}(e,t,n),i=Object(j.a)(o);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.distance=e.distance+1,c.previousNode=e}}catch(a){i.e(a)}finally{i.f()}}function O(e){var t,n=[],r=Object(j.a)(e);try{for(r.s();!(t=r.n()).done;){var o,i=t.value,c=Object(j.a)(i);try{for(c.s();!(o=c.n()).done;){var a=o.value;n.push(a)}}catch(s){c.e(s)}finally{c.f()}}}catch(s){r.e(s)}finally{r.f()}return n}var g=Math.sqrt(2);function p(e,t){var n=e.indexOf(t);e.splice(n,1)}function S(e){return e.reduce((function(e,t){return e.fScore<t.fScore?e:t}))}function x(e,t,n){var r=Math.abs(t.col-e.col),o=Math.abs(t.row-e.row);return n?r+o+(g-2)*Math.min(r,o):r+o}function w(e,t,n){var r=[],o=e.col,i=e.row;return i>0&&r.push(t[i-1][o]),i<t.length-1&&r.push(t[i+1][o]),o>0&&r.push(t[i][o-1]),o<t[0].length-1&&r.push(t[i][o+1]),n&&(i>0&&o>0&&r.push(t[i-1][o-1]),i<t.length-1&&o>0&&r.push(t[i+1][o-1]),i>0&&o<t[0].length-1&&r.push(t[i-1][o+1]),i<t.length-1&&o<t[0].length-1&&r.push(t[i+1][o+1])),r.filter((function(e){return!e.isWall}))}var _=n(11),m=n(18),N=n(8),M=n.n(N),W=n(1),k=Object(r.forwardRef)((function(e,t){var n,r=e.row,o=e.col,i=e.isStart,c=e.isFinish,a=e.isWall,s=e.onMouseDown,u=e.onMouseEnter,l=e.onMouseUp;return Object(W.jsx)("div",{ref:t,id:"node-".concat(r,"-").concat(o),className:Object(m.a)(M.a.node,(n={},Object(_.a)(n,M.a.nodeStart,i),Object(_.a)(n,M.a.nodeFinish,c),Object(_.a)(n,M.a.nodeWall,a),n)),onMouseDown:function(){return s(r,o)},onMouseEnter:function(){return u(r,o)},onMouseUp:function(){return l()}})})),C=n(13),P=n.n(C),y=n(9);function V(e,t,n,r){for(var o=[],i=0;i<n;i++){for(var c=[],a=0;a<r;a++)i!==e.row||a!==e.col?i!==t.row||a!==t.col?c.push(F(i,a)):c.push(F(i,a,!1,!0)):c.push(F(i,a,!0,!1));o.push(c)}return o}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{col:t,row:e,isStart:n,isFinish:r,distance:1/0,isVisited:!1,isWall:!1,previousNode:null,fScore:1/0,gScore:1/0}}function E(e,t,n,r){var o=e.slice(),i=o[t][n],c=Object(y.a)(Object(y.a)({},i),{},{isFinish:r});return o[t][n]=c,o}function A(e,t,n,r){var o=e.slice(),i=o[t][n],c=Object(y.a)(Object(y.a)({},i),{},{isStart:r});return o[t][n]=c,o}function D(e,t,n){var r=e.slice(),o=r[t][n],i=Object(y.a)(Object(y.a)({},o),{},{isWall:!o.isWall});return r[t][n]=i,r}function G(e){return{row:e.row,col:e.col}}function L(e,t,n,r){var o=V(e,t,n,r);return function(e,t,n){for(var r=0;r<e.length;r++)for(var o=0;o<e[0].length;o++)0!==r&&r!==e.length-1&&0!==o&&o!==e[0].length-1||(e[r][o].isWall=!0);e[t.row][t.col].isWall=!1,e[n.row][n.col].isWall=!1}(o,e,t),R(o,!0,1,n-2,1,r-2),o}function R(e,t,n,r,o,i){if(t){if(r-n<2)return;var c=2*Math.floor(T(o,i)/2);!function(e,t,n,r){console.log({y:r});for(var o=2*Math.floor(T(t,n)/2)+1,i=t;i<=n;i++)e[r][i].isStart||e[r][i].isFinish||(e[r][i].isWall=!0);0!==r&&r!==e.length-1&&(e[r][o].isWall=!1)}(e,n,r,c),R(e,!t,n,r,o,c-1),R(e,!t,n,r,c+1,i)}else{if(i-o<2)return;var a=2*Math.floor(T(n,r)/2);!function(e,t,n,r){console.log({x:r});for(var o=2*Math.floor(T(t,n)/2)+1,i=t;i<=n;i++)e[i][r].isStart||e[i][r].isFinish||(e[i][r].isWall=!0);0!==r&&r!==e[0].length-1&&(e[o][r].isWall=!1)}(e,o,i,a),R(e,!t,n,a-1,o,i),R(e,!t,a+1,r,o,i)}}function T(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var B=n(19),I=n.n(B);function U(e){var t=e.numberVisited,n=e.numberShortestPath;return Object(W.jsxs)("div",{className:I.a.scoreboard,children:[Object(W.jsxs)("div",{children:["Cells visited: ",t]}),Object(W.jsxs)("div",{children:["Cells on shortest path: ",n]})]})}var q={row:10,col:5},J={row:10,col:15};function K(){var e=Object(r.useState)((function(){return V(q,J,21,21)})),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)((function(){return G(q)})),c=Object(a.a)(i,2),g=c[0],_=c[1],m=Object(r.useState)((function(){return G(J)})),N=Object(a.a)(m,2),C=N[0],y=N[1],R=Object(r.useState)("astar"),T=Object(a.a)(R,2),B=T[0],I=T[1],K=Object(r.useState)([]),z=Object(a.a)(K,2),H=z[0],X=z[1],Z=Object(r.useState)([]),Q=Object(a.a)(Z,2),Y=Q[0],$=Q[1],ee=Object(r.useRef)([]);ee.current=n.map((function(e,t){return e.map((function(e,n){return ee.current.length?ee.current[t][n]:Object(r.createRef)()}))}));var te=Object(r.useCallback)((function(){if(1!==H.length)for(var e=function(e){setTimeout((function(){var t=H[e],n=t.row,r=t.col;ee.current[n][r].current.classList.add(M.a.nodeShortestPath)}),50*e)},t=0;t<H.length;t++)e(t)}),[H]),ne=Object(r.useCallback)((function(){for(var e=function(e){if(e===Y.length-1)return setTimeout((function(){te(H)}),10*e),{v:void 0};setTimeout((function(){var t=Y[e],n=t.row,r=t.col;ee.current[n][r].current.classList.add(M.a.nodeVisited)}),10*e)},t=0;t<Y.length;t++){var n=e(t);if("object"===typeof n)return n.v}}),[te,H,Y]);Object(r.useEffect)((function(){ne(Y,H)}),[ne,Y,H]);var re=Object(r.useState)(!1),oe=Object(a.a)(re,2),ie=oe[0],ce=oe[1],ae=Object(r.useState)(!1),se=Object(a.a)(ae,2),ue=se[0],le=se[1],fe=Object(r.useState)(!1),he=Object(a.a)(fe,2),de=he[0],je=he[1],be=Object(r.useState)(!1),ve=Object(a.a)(be,2),Oe=ve[0],ge=ve[1];function pe(){"astar"===B?$(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],i=[];for(t.gScore=0,t.fScore=x(t,n),i.push(t);i.length;){var c=S(i);if(!c.isWall){if(c.gScore===1/0)return o;if(c.isVisited=!0,o.push(c),c===n)return o;p(i,c);var a,s=w(c,e,r),u=Object(j.a)(s);try{for(u.s();!(a=u.n()).done;){var l=a.value,f=c.gScore+x(c,l,r);f<l.gScore&&(l.previousNode=c,l.gScore=f,l.fScore=l.gScore+x(l,n,r),i.includes(l)||i.push(l))}}catch(h){u.e(h)}finally{u.f()}}}return o}(n,n[g.row][g.col],n[C.row][C.col],de)):"dijkstra"===B&&$(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];t.distance=0;for(var i=O(e);i.length;){b(i);var c=i.shift();if(!c.isWall){if(c.distance===1/0)return o;if(c.isVisited=!0,o.push(c),c===n)return o;v(c,e,r)}}}(n,n[g.row][g.col],n[C.row][C.col],de)),X(function(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t}(n[C.row][C.col]))}function Se(e,t){return!!g&&(e===g.row&&t===g.col)}function xe(e,t){return!!C&&(e===C.row&&t===C.col)}function we(){H.forEach((function(e){return ee.current[e.row][e.col].current.classList.remove(M.a.nodeShortestPath)})),X([])}function _e(){Y.forEach((function(e){return ee.current[e.row][e.col].current.classList.remove(M.a.nodeVisited)})),$([])}function me(){we(),_e(),o(function(e,t,n){return e.map((function(e,r){return e.map((function(e,o){if(e.isWall){var i=F(r,o);return i.isWall=!0,i}var c=r===t.row&&o===t.col,a=r===n.row&&o===n.col;return F(r,o,c,a)}))}))}(n,g,C)),ce(!1)}function Ne(){we(),_e(),o(V(q,J,21,21)),_(G(q)),y(G(J)),ce(!1)}function Me(){return null===g||null===C}return Object(r.useEffect)((function(){"dijkstra"===B&&(je(!1),ge(!0)),"astar"===B&&ge(!1)}),[B]),Object(W.jsxs)(s.a,{className:P.a.container,children:[Object(W.jsx)(u.a,{children:Object(W.jsxs)(l.a,{children:[Object(W.jsx)(f.a,{for:"algorithmSelect",children:Object(W.jsx)("h2",{children:"Select Algorithm"})}),Object(W.jsxs)(h.a,{type:"select",name:"select",id:"algorithmSelect",value:B,onChange:function(e){return I(e.target.value)},children:[Object(W.jsx)("option",{value:"astar",children:"A*"}),Object(W.jsx)("option",{value:"dijkstra",children:"Dijkstra"})]})]})}),Object(W.jsx)(u.a,{children:Object(W.jsx)(l.a,{children:Object(W.jsxs)(f.a,{check:!0,children:[Object(W.jsx)(h.a,{disabled:Oe,type:"checkbox","aria-label":"Checkbox for allowing diagonals in paths",value:de,onChange:function(e){return je(e.target.checked)}})," ","Allow Diagonals"]})})}),Object(W.jsxs)(u.a,{children:[Object(W.jsx)("h2",{children:"Controls"}),Object(W.jsxs)("div",{className:P.a.buttonGroup,children:[Object(W.jsx)(d.a,{disabled:ie||Me(),color:"primary",onClick:function(){me(),ce(!0),pe()},children:"Visualise"}),Object(W.jsx)(d.a,{disabled:ie||Me(),outline:!0,color:"secondary",onClick:function(){return we(),_e(),void o(L(g,C,21,21))},children:"Generate Maze"}),Object(W.jsx)(d.a,{disabled:Me(),outline:!0,color:"danger",onClick:function(){return Ne()},children:"Clear Board"}),Object(W.jsx)(d.a,{disabled:Me(),outline:!0,color:"warning",onClick:function(){return me()},children:"Clear Path"})]})]}),Object(W.jsx)(u.a,{children:Object(W.jsx)(U,{numberVisited:Y.length>0?Y.length:"N/A",numberShortestPath:H.length>0?H.length:"N/A"})}),Object(W.jsx)("div",{className:P.a.grid,children:n.map((function(e,t){return Object(W.jsx)("div",{className:P.a.row,children:e.map((function(e,t){var r=e.row,i=e.col,c=e.isStart,a=e.isFinish,s=e.isWall;return Object(W.jsx)(k,{ref:ee.current[r][i],row:r,col:i,isStart:c,isFinish:a,isWall:s,onMouseDown:function(){return function(e,t){if(!ie){if(Se(e,t))return A(n,e,t,!1),void _(null);if(!g&&!xe(e,t)){if(n[e][t].isWall)return;return A(n,e,t,!0),void _((function(){return{row:e,col:t}}))}if(xe(e,t))return E(n,e,t,!1),void y(null);if(!C&&!Se(e,t)){if(n[e][t].isWall)return;return E(n,e,t,!0),void y((function(){return{row:e,col:t}}))}var r=D(n,e,t);o(r),le(!0)}}(r,i)},onMouseEnter:function(){return function(e,t){if(ue&&!ie){var r=D(n,e,t);o(r)}}(r,i)},onMouseUp:function(){ie||le(!1)}},t)}))},t)}))})]})}var z=function(){return Object(W.jsxs)("div",{className:"root",children:[Object(W.jsx)("div",{className:"title",children:Object(W.jsx)("h1",{children:"Pathfinding Visualiser"})}),Object(W.jsx)("div",{className:"link",children:Object(W.jsx)("a",{href:"https://github.com/jeffreyquan/pathfinding-visualiser",target:"_blank",rel:"noreferrer noopener",children:"Github"})}),Object(W.jsx)(K,{})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),i(e),c(e)}))};n(29);c.a.render(Object(W.jsx)(o.a.StrictMode,{children:Object(W.jsx)(z,{})}),document.getElementById("root")),H()},8:function(e,t,n){e.exports={node:"Node_node__21jjK",nodeStart:"Node_nodeStart__27Ah3",nodeFinish:"Node_nodeFinish__1ymnm",nodeVisited:"Node_nodeVisited__3SCPR",visitedAnimation:"Node_visitedAnimation__1Le_M",nodeWall:"Node_nodeWall__1HVCx",nodeShortestPath:"Node_nodeShortestPath__3aENZ",shortestPath:"Node_shortestPath__2DXkP"}}},[[30,1,2]]]);
//# sourceMappingURL=main.f54f6b75.chunk.js.map